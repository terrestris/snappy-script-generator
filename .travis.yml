language: java

cache:
  directories:
  - "$HOME/.m2"

sudo: false

jdk:
- oraclejdk8
- openjdk8

env:
  global:
    - secure: "J1vLHMOFbTpvyU3Q3ufB/DcYzk7yD+thwxs3C2Mncb0qtqIZaZkPsXsh0FL2G0yLoK2HknNylV4gwbNhNXB3HSWtUpMueoLRcPLkxwWJVW14irvJLDw9ime5Qp/zBKzryWeo6UusmlpLRyQgKCO1loWp0XQrkzEY/2pHXaY0r3lIjx6/aUZDKvbllffbsJCF2c89METr63qfF8pZSZTiw04CTRGr9D+QEstTkbMnRZMHMjnvEli5EZQBlxc89N7DLD1nuUZwJdBVll1Li5HggOh/K0D+h7foBMjOo7LRRnp1yfzBc0rx5+RS3wn6wwXnVAEPhyApk85baURFtZNZmSqGfF4OIk0YuCzG8K33H8HWAhxjGrC/th17pCqRg5PPpyk6FwcuRgLcsDirkyiOHoGKkgJ3elhdQvxRd7FDMRylYtnlYJgFyb86Er9KlHxLYaVdUdj1M8p6v3iccUNe2FC+XXnYGokZEHcHa8DZx5I9B1wfZDVOx2sVCEyMhsf1zgCqeQbr4V2uKAbLv75kReMcpyPrU8IQb76hXXCKFCY1EHcTbKH9tdqIsiW/8npmZjKXTLD9/nYIH4W4TxhvF+GTpsp3v2KmHU7XAOoe9b9IpwYh++NFSCEyJoHGCenhV2/tmV4vakh/nOfp2Hiheaf+66yfW78crfYYWWFhZPw="

script:
  - mkdir -p $HOME/.m2
  - echo "<settings xmlns='http://maven.apache.org/SETTINGS/1.0.0'><servers><server><id>nexus.terrestris.de-snapshots</id><username>gs-deploy</username><password>$DEPLOY_PASSWORD</password></server></servers></settings>" > $HOME/.m2/settings.xml
  - if [ "$TRAVIS_BRANCH" == "master" -a "$TRAVIS_PULL_REQUEST" == "false" ]; then mvn --batch-mode clean deploy; fi
  - if [ "$TRAVIS_BRANCH" != "master" -o "$TRAVIS_PULL_REQUEST" != "false" ]; then mvn --batch-mode clean install; fi

notifications:
  email:
    on_success: never
    on_failure: never
